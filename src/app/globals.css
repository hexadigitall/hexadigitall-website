/* src/app/globals.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Root element overflow control */
  html, body {
    overflow-x: hidden;
  }
  
  /* Performance: Enable hardware acceleration for smooth animations */
  * {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }
  
  /* Accessibility: Better focus management */
  *:focus {
    outline: 2px solid #0A4D68;
    outline-offset: 2px;
  }
  
  /* Accessibility: Hide scrollbar but keep functionality */
  * {
    scrollbar-width: thin;
    scrollbar-color: #0A4D68 #f1f5f9;
  }
  
  *::-webkit-scrollbar {
    width: 8px;
  }
  
  *::-webkit-scrollbar-track {
    background: #f1f5f9;
  }
  
  *::-webkit-scrollbar-thumb {
    background: #0A4D68;
    border-radius: 4px;
  }
  
  *::-webkit-scrollbar-thumb:hover {
    background: #083344;
  }
  
  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }
  
  /* Typography improvements */
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply font-body text-darkText;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading text-primary;
    line-height: 1.2;
  }
  
  /* Allow explicit text color overrides */
  .text-white h1, .text-white h2, .text-white h3, .text-white h4, .text-white h5, .text-white h6,
  h1.text-white, h2.text-white, h3.text-white, h4.text-white, h5.text-white, h6.text-white {
    color: white !important;
  }
  
  /* Accessibility: Better link styles */
  a {
    @apply text-secondary transition-colors duration-300;
  }
  
  a:hover, a:focus {
    @apply underline;
  }
  
  /* Accessibility: Skip links */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  .sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
  
  /* Performance: Optimize images */
  img {
    max-width: 100%;
    height: auto;
  }
  
  /* Responsive image containers */
  .image-container {
    position: relative;
    overflow: hidden;
  }
  
  /* Better mobile touch targets */
  @media (max-width: 768px) {
    button, a {
      min-height: 44px;
      min-width: 44px;
    }
  }
  
  /* Accessibility: Better form elements */
  input, textarea, select {
    @apply border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-primary focus:border-transparent;
  }
  
  /* Accessibility: Animation preferences */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
  
  /* Accessibility: High contrast mode support */
  @media (prefers-contrast: high) {
    * {
      border-color: currentColor;
    }
    
    .btn-primary {
      border: 2px solid currentColor;
    }
    
    .btn-secondary, .btn-secondary-dark, .btn-white {
      border-width: 3px;
    }
  }
  
  /* Accessibility: Forced colors mode */
  @media (forced-colors: active) {
    .btn-primary, .btn-secondary, .btn-secondary-dark, .btn-white {
      forced-color-adjust: none;
      border: 2px solid ButtonText;
    }
  }
  
  /* Performance: Optimize for printing */
  @media print {
    * {
      background: white !important;
      color: black !important;
      box-shadow: none !important;
      text-shadow: none !important;
    }
    
    a, a:visited {
      text-decoration: underline;
    }
    
    .btn-primary, .btn-secondary, .btn-secondary-dark, .btn-white {
      border: 2px solid black;
      background: white;
      color: black;
    }
  }
}

@layer components {
  /* ============================================
   * DESIGN SYSTEM - STANDARDIZED COMPONENTS
   * ============================================ */

  /* === BUTTON BASE CLASSES === */
  .btn-base {
    @apply min-h-[44px] inline-flex items-center justify-center
           font-semibold rounded-xl
           transition-all duration-300
           focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Primary Button - Standard gradient style */
  .btn-primary {
    @apply btn-base px-6 py-3
           bg-gradient-to-r from-primary to-primary/80 text-white
           hover:from-primary/90 hover:to-primary/70 hover:shadow-lg
           active:scale-95
           focus:ring-primary/50;
  }

  /* Secondary Button - Outline style */
  .btn-secondary {
    @apply btn-base px-6 py-3
           border-2 border-gray-300 text-gray-700 bg-transparent
           hover:border-gray-400 hover:bg-gray-50 hover:shadow-md
           active:scale-95
           focus:ring-gray-300;
  }

  /* Secondary Dark - For dark backgrounds */
  .btn-secondary-dark {
    @apply btn-base px-6 py-3
           border-2 border-white text-white bg-transparent
           hover:bg-white hover:text-primary hover:shadow-lg
           active:scale-95
           focus:ring-white/50;
  }

  /* Accent Button - Orange/warm gradient */
  .btn-accent {
    @apply btn-base px-6 py-3
           bg-gradient-to-r from-accent to-orange-500 text-white
           hover:from-accent/90 hover:to-orange-400 hover:shadow-lg
           active:scale-95
           focus:ring-accent/50;
  }

  /* Ghost Button - Minimal style */
  .btn-ghost {
    @apply btn-base px-4 py-2
           text-gray-600 bg-transparent
           hover:text-gray-900 hover:bg-gray-100
           focus:ring-gray-200;
  }

  /* === CARD CLASSES === */
  .card-base {
    @apply bg-white rounded-2xl
           transition-all duration-300;
  }

  .card-bordered {
    @apply card-base border border-gray-200
           shadow-sm hover:shadow-lg;
  }

  .card-elevated {
    @apply card-base shadow-md
           hover:shadow-xl hover:-translate-y-1;
  }

  .card-interactive {
    @apply card-base border border-gray-200 shadow-sm cursor-pointer
           hover:shadow-xl hover:-translate-y-1 hover:border-primary/30
           active:scale-[0.98];
  }

  /* === INPUT CLASSES === */
  .input-standard {
    @apply w-full px-4 py-3 rounded-lg
           border border-gray-300 bg-white
           focus:ring-2 focus:ring-primary focus:border-transparent
           transition-all duration-200
           placeholder:text-gray-400;
  }

  .input-error {
    @apply input-standard border-red-500
           focus:ring-red-500;
  }

  .input-success {
    @apply input-standard border-green-500
           focus:ring-green-500;
  }

  /* === BADGE CLASSES === */
  .badge-base {
    @apply inline-flex items-center px-3 py-1
           rounded-full text-sm font-medium;
  }

  .badge-primary {
    @apply badge-base bg-primary/10 text-primary;
  }

  .badge-secondary {
    @apply badge-base bg-secondary/10 text-secondary;
  }

  .badge-success {
    @apply badge-base bg-green-100 text-green-800;
  }

  .badge-warning {
    @apply badge-base bg-orange-100 text-orange-800;
  }

  .badge-error {
    @apply badge-base bg-red-100 text-red-800;
  }

  .badge-accent {
    @apply badge-base bg-gradient-to-r from-orange-500 to-pink-500 text-white;
  }

  /* === SECTION SPACING === */
  .section-padding {
    @apply py-16 md:py-20;
  }

  .section-padding-sm {
    @apply py-12 md:py-16;
  }

  .container-standard {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* ============================================
   * LEGACY BUTTON STYLES (for backwards compat)
   * ============================================ */

  .btn-white {
    @apply btn-base px-6 py-3
           bg-white text-primary
           hover:bg-gray-50 hover:shadow-lg
           active:scale-95
           focus:ring-primary/30;
  }

  .brand-cursive {
    font-family: 'Dancing Script', 'Brush Script MT', cursive;
    font-weight: 700;
    letter-spacing: 0.025em;
  }
  
  /* Enhanced button styles with accessibility */
  .btn-primary, .btn-secondary, .btn-secondary-dark, .btn-white {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply transition-all duration-200 ease-in-out;
    min-height: 44px; /* WCAG touch target size */
    min-width: 44px;
  }
  
  /* Text truncation utilities */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
  
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
}

@layer utilities {
  /* Responsive spacing utilities */
  .container-padding {
    @apply px-4 sm:px-6 lg:px-8;
  }
  
  /* Hero-specific utilities */
  .hero-height {
    min-height: 100vh;
    min-height: 100svh; /* For newer browsers with small viewport height */
  }
  
  @media (max-height: 600px) {
    .hero-height {
      min-height: 600px;
    }
  }
  
  /* Improved responsive text utilities for hero */
  @media (max-width: 640px) {
    .hero-height {
      padding: 2rem 0;
    }
  }
  
  @media (max-width: 480px) {
    .hero-height {
      padding: 1.5rem 0;
    }
  }
  
  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.6s ease-out;
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-glow {
    animation: glow 2s ease-in-out infinite alternate;
  }
  
  .animate-shimmer {
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }
  
  .animate-morph {
    animation: morphing 8s ease-in-out infinite;
  }
  
  /* Hover animations */
  .hover-lift {
    transition: transform 0.3s ease;
  }
  
  .hover-lift:hover {
    transform: translateY(-8px) scale(1.02);
  }
  
  .hover-glow:hover {
    box-shadow: 0 10px 40px rgba(59, 130, 246, 0.3);
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(180deg);
    }
  }
  
  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
    }
    50% {
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(139, 92, 246, 0.6);
    }
  }
  
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
  
  @keyframes morphing {
    0%, 100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    50% {
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    }
  }
  
  /* Loading skeleton */
  .skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }
  
  /* Focus visible improvements */
  .focus-visible:focus {
    outline: 2px solid #0A4D68;
    outline-offset: 2px;
  }
  
  /* Prevent horizontal scroll */
  .no-horizontal-scroll {
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  /* Touch action for better mobile performance */
  .touch-pan-y {
    touch-action: pan-y;
  }
  
  .touch-manipulation {
    touch-action: manipulation;
  }
  
  /* Responsive image utilities */
  .responsive-image {
    width: 100%;
    height: auto;
    max-width: 100%;
    display: block;
  }
  
  /* Container queries for better responsiveness */
  @container (max-width: 480px) {
    .responsive-text {
      font-size: 0.875rem;
    }
  }
  
  /* Glassmorphism effects */
  .glass {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.18);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  }
  
  .glass-dark {
    background: rgba(15, 23, 42, 0.25);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
  }
  
  /* Enhanced card styles */
  .card-enhanced {
    @apply rounded-2xl; /* Standardized border-radius */
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 
      0 8px 32px 0 rgba(31, 38, 135, 0.15),
      0 2px 16px 0 rgba(31, 38, 135, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .card-enhanced:hover {
    transform: translateY(-4px); /* Reduced from -8px for subtlety */
    box-shadow: 
      0 20px 40px 0 rgba(31, 38, 135, 0.2),
      0 8px 32px 0 rgba(31, 38, 135, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
  }
  
  /* Gradient backgrounds */
  .bg-gradient-primary {
    background: linear-gradient(135deg, rgb(59, 130, 246) 0%, rgb(139, 92, 246) 100%);
  }
  
  .bg-gradient-secondary {
    background: linear-gradient(135deg, rgb(139, 92, 246) 0%, rgb(236, 72, 153) 100%);
  }
  
  .bg-gradient-warm {
    background: linear-gradient(135deg, rgb(251, 191, 36) 0%, rgb(234, 88, 12) 100%);
  }
  
  .bg-gradient-cool {
    background: linear-gradient(135deg, rgb(56, 189, 248) 0%, rgb(14, 165, 233) 100%);
  }
  
  /* Hero section enhancements */
  .hero-overlay {
    background: linear-gradient(
      135deg,
      rgba(59, 130, 246, 0.8) 0%,
      rgba(139, 92, 246, 0.6) 50%,
      rgba(236, 72, 153, 0.8) 100%
    );
  }
  
  .hero-bg-image {
    background-attachment: fixed;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  
  /* Button enhancements */
  .btn-glass {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
  }
  
  .btn-glass:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  }
  
  /* Image hover effects */
  .image-hover-zoom {
    overflow: hidden;
    transition: all 0.3s ease;
  }
  
  .image-hover-zoom img {
    transition: transform 0.3s ease;
  }
  
  .image-hover-zoom:hover img {
    transform: scale(1.05);
  }
  
  /* Testimonial enhancements */
  .testimonial-card {
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
  }
  
  /* Course card enhancements */
  .course-card {
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.8));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.25);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .course-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.2);
  }
}
